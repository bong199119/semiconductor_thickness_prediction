<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="shortcut icon" type="image/x-icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Apple_logo_black.svg/800px-Apple_logo_black.svg.png">

    <title>줄건줘</title>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

    <script type="text/javascript" src="https://code.highcharts.com/highcharts.js"></script>

    <script type="text/javascript" src="https://code.highcharts.com/modules/exporting.js"></script>

    <script type="text/javascript" src="https://code.highcharts.com/modules/data.js"></script>

</head>

<body>
<!--    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
 --> <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


   <nav class="navbar navbar-expand-lg navbar-light bg-light" style="margin-left:47px;margin-top:25px;" >
      <a class="navbar-brand" href="http://127.0.0.1:8000/polls/home" ><font size="5.5em">반도체 박막분석 </font></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-item nav-link" href="http://127.0.0.1:8000/polls/main_realtime_analysis"><font size="4em">실시간 분석</font></a>
<!--          <a class="nav-item nav-link" href="http://127.0.0.1:8000/polls/detail_analysis"><font size="4em">상세 분석</font></a>-->
    <!--          <a class="nav-item nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>-->


<!--            상세분석-->
            <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <font size="4em">상세 분석</font>
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <a class="dropdown-item" href="http://127.0.0.1:8000/polls/detail_analysis">제1공정 상세분석</a>
          <a class="dropdown-item" href="http://127.0.0.1:8000/polls/two_detail_analysis">제2공정 상세분석</a>
          <a class="dropdown-item" href="http://127.0.0.1:8000/polls/synthesis_detail_analysis">종합 통계</a>
        </div>
      </li>
            <a class="nav-item nav-link" href="http://127.0.0.1:8000/polls/test_page"><font size="4em">test_page</font></a>
        </div>
      </div>
    </nav>


    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>


            <div class="container-fluid" style="margin-top:60px;">

                <div class="container-fluid full-width">

                    <div  align="right" class="row-fluid">

<!--                    <button type= "button" id = "measure_start" class="btn btn-outline-dark">측정 시작</button>-->

                    <a href="http://127.0.0.1:8000/polls/main_realtime_analysis" class="btn btn-outline-dark">측정 중단</a>
                    <a href="http://127.0.0.1:8000/polls/realtime_analysis" class="btn btn-outline-dark">측정 시작</a>

                    </div>

                </div>

            </div>

    <div class="form-group" style="width:800px;height:550px;margin-right:25px;margin-top:110px;float: right;">
    <label for="exampleFormControlTextarea1"><font size="4em">Insfaction Log</font></label>
    <textarea class="form-control" id="exampleFormControlTextarea1" rows="19" ></textarea>
    </div>

    <figure class="highcharts-figure">
      <div id="container" style="width:1000px;height:550px;margin-left:50px;margin-top:80px;margin-bottom:20px;float: left;"></div>
        <p class="highcharts-description">
        </p>
    </figure>

    <figure class="highcharts-figure">
      <div id="container_2" style="width:1000px;height:550px;margin-left:50px;margin-top:100px;margin-bottom:150px;float: left;"></div>
      <p class="highcharts-description">
      </p>
    </figure>

    <div class="form-group" style="width:800px;height:550px;margin-right:25px;margin-top:110px;float: right;">
    <label for="exampleFormControlTextarea1"><font size="4em">Insfaction Log</font></label>
    <textarea class="form-control" id="exampleFormControlTextarea2" rows="19"></textarea>
    </div>


    <div class="container-fluid text-center" style='margin-top:1480px;margin-bottom:1px;line-height:0.3;'>
        <p>Team name : Plan_B&nbsp&nbsp&nbsp Email address : sbskh11@gmail.com   </p>
    </div>
    <div class="container-fluid text-center" style='line-height:0.1;'>
        <p>Member : SEO BONGSEOK & CHOI SEUNGHEE & LEE YOON </p>
    </div>
    <div class="container-fluid text-center" style='margin-top:1px;margin-bottom:1px;'>
      <p>Since 2020-06-05</p>
    </div>

<!--    <div class="ld-row">-->
<!--        <label class="ld-label">-->
<!--            Enable Polling-->
<!--        </label>-->
<!--        <input type="checkbox" checked="checked" id="enablePolling"/>-->
<!--    </div>-->
<!--    <div class="ld-row">-->
<!--        <label class="ld-label">-->
<!--            Polling Time (Seconds)-->
<!--        </label>-->
<!--        <input class="ld-time-input" type="number" value="2" id="pollingTime"/>-->
<!--    </div>-->
    <div class="ld-row" id="fetchURL">
<!--        <input class="ld-url-input" type="text" id="fetchURL"/>-->
    </div>

    <div class="ld-row" id="fetchURL_2">
<!--        <input class="ld-url-input" type="text" id="fetchURL"/>-->
    </div>




<!--    <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>-->

    <script type="text/javascript">

     var defaultData = 'http://127.0.0.1:8000/polls/backup';
     var urlInput = document.getElementById('fetchURL');
<!--     var pollingCheckbox = document.getElementById('enablePolling');-->
<!--     var pollingInput = document.getElementById('pollingTime');-->

        function createChart1() {
            Highcharts.chart('container', {
                chart: {
                    type: 'spline'
                },
                title: {
                    text: '제 1 공정 실시간 두께'
                },
                accessibility: {
                    announceNewData: {
                        enabled: true,
                        minAnnounceInterval: 15000,
                        announcementFormatter: function (allSeries, newSeries, newPoint) {
                            if (newPoint) {
                                return 'New point added. Value: ' + newPoint.y;
                            }
                            return false;
                        }
                    }
                },
                subtitle: {
                    text: '10_160_40_180_layer'
                },
                yAxis: [{ // left y axis
                    title: {
                        text: null
                    },
                    labels: {
                        align: 'left',
                        x: 3,
                        y: 16,
                        format: '{value:.,0f}'
                    },
                    showFirstLabel: false
                }, { // right y axis
                    linkedTo: 0,
                    gridLineWidth: 0,
                    opposite: true,
                    title: {
                        text: null
                    },

                    labels: {
                      align: 'right',
                      x: -3,
                      y: 16,
                      format: '{value:.,0f}'
                    },
                    showFirstLabel: false
                }],

                legend: {
                    align: 'left',
                    verticalAlign: 'top',
                    borderWidth: 0
                },

                tooltip: {
                    shared: true,
                    crosshairs: true
                },

              plotOptions: {
                series: {
                  cursor: 'pointer',
                  point: {
                    events: {
                      click: function (e) {
                        hs.htmlExpand(null, {
                          pageOrigin: {
                            x: e.pageX || e.clientX,
                            y: e.pageY || e.clientY
                          },
                          headingText: this.series.name,
                          maincontentText: Highcharts.dateFormat('%A, %b %e, %Y', this.x) + ':<br/> ' +
                            this.y + ' sessions',
                          width: 100
                        });
                      }
                    }
                  },
                  marker: {
                    lineWidth: 1
                  }
                }
              },
                data: {
                    csvURL: 'http://127.0.0.1:8000/polls/backup',
                    enablePolling: true,
                    dataRefreshRate: 2
                }
            });


        }


<!--urlInput.value = defaultData;-->
<!--urlInput_2.value = defaultData_2;-->
createChart1();


     var defaultData_2 = 'http://127.0.0.1:8000/polls/two_backup';
     var urlInput_2 = document.getElementById('fetchURL_2');
<!--     var pollingCheckbox = document.getElementById('enablePolling');-->
<!--     var pollingInput = document.getElementById('pollingTime');-->

        function createChart2() {
            Highcharts.chart('container_2', {
                chart: {
                    type: 'spline'
                },
                title: {
                    text: '제 2 공정 실시간 두께'
                },
                accessibility: {
                    announceNewData: {
                        enabled: true,
                        minAnnounceInterval: 15000,
                        announcementFormatter: function (allSeries, newSeries, newPoint) {
                            if (newPoint) {
                                return 'New point added. Value: ' + newPoint.y;
                            }
                            return false;
                        }
                    }
                },
                subtitle: {
                    text: '160_200_140_300_layer'
                },
                yAxis: [{ // left y axis
                    title: {
                        text: null
                    },
                    labels: {
                        align: 'left',
                        x: 3,
                        y: 16,
                        format: '{value:.,0f}'
                    },
                    showFirstLabel: false
                }, { // right y axis
                    linkedTo: 0,
                    gridLineWidth: 0,
                    opposite: true,
                    title: {
                        text: null
                    },

                    labels: {
                      align: 'right',
                      x: -3,
                      y: 16,
                      format: '{value:.,0f}'
                    },
                    showFirstLabel: false
                }],

                legend: {
                    align: 'left',
                    verticalAlign: 'top',
                    borderWidth: 0
                },

                tooltip: {
                    shared: true,
                    crosshairs: true
                },

              plotOptions: {
                series: {
                  cursor: 'pointer',
                  point: {
                    events: {
                      click: function (e) {
                        hs.htmlExpand(null, {
                          pageOrigin: {
                            x: e.pageX || e.clientX,
                            y: e.pageY || e.clientY
                          },
                          headingText: this.series.name,
                          maincontentText: Highcharts.dateFormat('%A, %b %e, %Y', this.x) + ':<br/> ' +
                            this.y + ' sessions',
                          width: 100
                        });
                      }
                    }
                  },
                  marker: {
                    lineWidth: 1
                  }
                }
              },
                data: {
                     csvURL: 'http://127.0.0.1:8000/polls/two_backup'   ,
<!--                    csvURL: urlInput_2.value,   -->
                    enablePolling: true,
                    dataRefreshRate: 2
                }
            });


        }
    createChart2();






     function intotext1() {
     $.get('/polls/goto_test_page', function(data) {
     $('#exampleFormControlTextarea1').val(data);
     });
     }

     setInterval(intotext1,2000);

     function intotext2() {
     $.get('/polls/goto_log', function(data) {
     $('#exampleFormControlTextarea2').val(data);
     });
     }

     setInterval(intotext2,2000);





</script>


</body>
</html>